<!DOCTYPE html>
<html lang="en">
	<head>
		<title>毒蘑菇 - Poison Mushroom</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
		body {
		  color: #ffffff;
		  font-family:Monospace;
		  font-size:13px;
		  text-align:center;
		  font-weight: normal;
		  background-color: #000000;
		  margin: 0px;
		  overflow: hidden;
		}

		#logo {
		  position: absolute;
		  top:50%;
		  left: 50%;
		  margin-left: -20%;
		  margin-top: -6%;
		  width: 40%;
		}

		#logo img{
		  width: 100%;
		}

		a {
		  color: #ffffff;
		}

		.coming{
		  position: absolute;
		  display: block;
		  top:60%;
		  text-align: center;
		  width: 100%;
		  font-size: 1.5em;
		  font-style: italic;
		}

		</style>
	</head>
	<body>

		<div id="container">
				<div id="logo"><img src="pm_logo.svg" /></div>
				<div class="coming">coming soon</div>
		</div>

		<script src="three.min.js"></script>

		<script src="Detector.js"></script>

		<script id="vertexShader" type="x-shader/x-vertex">

			varying vec2 vUv;

			void main()	{

				vUv = uv;

				gl_Position = vec4( position, 1.0 );

			}

		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">

			varying vec2 vUv;

			uniform float time;

			void main()	{

				vec2 position = - 1.0 + 2.0 * vUv;

				float red = abs( sin( position.x * position.y + time / 5.0 ) );
				float green = abs( sin( position.x * position.y + time / 4.0 ) );
				float blue = abs( sin( position.x * position.y + time / 3.0 ) );
				gl_FragColor = vec4( red, green, blue, 1.0 );
			}

		</script>

		<script>

			if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

			var container;

			var camera, scene, renderer;

			var uniforms;

			init();
			animate();

			function init() {

				container = document.getElementById( 'container' );

				camera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );

				scene = new THREE.Scene();

				var geometry = new THREE.PlaneBufferGeometry( 2, 2 );

				uniforms = {
					time: { value: 1.0 }
				};

				var material = new THREE.ShaderMaterial( {

					uniforms: uniforms,
					vertexShader: document.getElementById( 'vertexShader' ).textContent,
					fragmentShader: document.getElementById( 'fragmentShader' ).textContent

				} );

				var mesh = new THREE.Mesh( geometry, material );
				scene.add( mesh );

				renderer = new THREE.WebGLRenderer();
				renderer.setPixelRatio( window.devicePixelRatio );
				container.appendChild( renderer.domElement );

				onWindowResize();

				window.addEventListener( 'resize', onWindowResize, false );

			}

			function onWindowResize( event ) {

				renderer.setSize( window.innerWidth, window.innerHeight );

			}

			//

			function animate( timestamp ) {

				requestAnimationFrame( animate );

				uniforms.time.value = timestamp / 1000;

				renderer.render( scene, camera );

			}

		</script>

	</body>
</html>
